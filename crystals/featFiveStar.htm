<!DOCTYPE html>
<html lang="en">
<head id="h">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Featured 5* Crystal</title>
    <link rel="perconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@450&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://djindevstuff.github.io/crystals/style/featfivestar.css">
</head>
<body onload="read5Star()">
    <script>
        var totalCount=0;
        var champ;
        var pull=[10];
        var res;
        var r;
        var nl=0;
        var hist="";
        var curpulls="";
        function readFile(file){
            var f = new XMLHttpRequest();
            f.open("GET", file, true);
            f.onreadystatechange = function (){
                if(f.readyState === 4){
                    if(f.status === 200 || f.status == 0){
                res= f.responseText;
                        champ=res.split("\n");
                    }
                }
            f.send(null);
            }
        }
        function read5Star(){
            readFile("feat5pool.txt");
        }
        function randomInt(min,max){
            return Math.floor(Math.random()*(max-min+1))+min;
        }
        function openCrystal(n){
            for(var i=0;i<n;i++){
                r=randomInt(1,champ.length-1);
                totalCount+=1;
                hist="<img class=\"border\" src=\"https://djindevstuff.github.io/crystals/featfivepool/frame5.png\" width=\"72px\" height=\"60px\"><img class=\"fivestar\" src=\"https://djindevstuff.github.io/crystals/featfivepool/"+r+".png\" width=\"60px\" height=\"60px\"><br>";
                document.getElementById("dispChamp").innerHTML= hist.concat(document.getElementById("dispChamp").innerHTML);
            }
            document.getElementById("countTotal").innerHTML = totalCount;
        }
        function clearWindow(){
            totalCount=0;
            document.getElementById("countTotal").innerHTML=0;
            document.getElementById("dispChamp").innerHTML="";
        }
        function addChamp(){
            document.getElementById("dispChamp").innerHTML=document.getElementById("dispChamp").innerHTML.concat("<img class=\"border\" src=\"../res/frame5.png\" width=\"72px\" height=\"60px\"><img class=\"fivestar\" src=\"../res/Mister_Sinister.png\" width=\"60px\" height=\"60px\"><br>");
    }
    </script>
    <div class="fiveStar">
        <h2>Featured 5* Crystal</h2>
        <p>Total Crystals= <a id="countTotal">0</a></p>
        <button type="button" id="open1Crystal" onclick="openCrystal(1)">OPEN 1</button>
        <button type="button" id="open10Crystal" onclick="openCrystal(10)">OPEN 10</button>
        <button type="button" id="clear" onclick="clearWindow()">CLEAR</button>
        <p><a id="dispChamp"></a></p>
        <p class="note"><b>NOTE:</b> This MCOC Crystal Simulator is made just for fun.<br>This does not represent your next possible pull in the game.</p>
    </div>
</body>
</html>